# Answers Below!
# main.yml

name: CI Workshop

on:
  push:
    branches: [ main ]
  pull_request:
    branches: [ main ]
  
jobs:
  test:
    runs-on: ubuntu-latest
    
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Install Dependencies
      run: npm install
      
    - name: Run Tests
      run: npm test
      
    - name: Report Status
      if: always()
      run: |
        echo "Tests completed with status: ${{ job.status }}"
  
  lint:
    runs-on: ubuntu-latest
    steps:
    - uses: actions/checkout@v3
    
    - name: Setup Node.js
      uses: actions/setup-node@v3
      with:
        node-version: '18'
        
    - name: Install Dependencies
      run: npm install
    
    - name: Lint
      run: npm run format

    - name: Report Status
      if: always()
      run: |
        echo "Lint completed with status: ${{ job.status }}"


# app.js

const express = require('express');
const app = express();

class Calculator {
    add(a, b) {
        return a + b;
    }

    multiply(a, b) {
        return a * b;
    }

    divide(a, b) {
        if (b === 0) {
            return 'Cannot divide by zero';
        }
        return a / b;
    }
}

// Setup express routes
app.get('/', function (req, res) {
    res.send('Hello World!');
});

// Only start server if this file is run directly
if (require.main === module) {
    app.listen(3000, () => console.log('Server running on port 3000'));
}

// Export both the app and Calculator class
module.exports = {
    app,
    Calculator
};